'use strict';

var React = require('react');
var ReactDOM = require('react-dom');
var _ = require('lodash');

module.exports = function (_ref) {
  var component = _ref.component;
  var componentName = _ref.componentName;

  var elems = document.querySelectorAll('[toga=' + componentName + ']');

  _.forEach(elems, function (elem) {
    var prop = undefined;

    try {
      prop = JSON.parse(elem.getAttribute('prop'));
    } catch (e) {
      prop = {};
    }

    var reactElem = React.createElement(component, prop);

    ReactDOM.render(reactElem, elem);
  });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9ib290c3RyYXAtcmVhY3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDL0IsSUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ3RDLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFNUIsTUFBTSxDQUFDLE9BQU8sR0FBRyxnQkFBZ0M7TUFBOUIsU0FBUyxRQUFULFNBQVM7TUFBRSxhQUFhLFFBQWIsYUFBYTs7QUFDekMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsR0FBRyxhQUFhLEdBQUcsR0FBRyxDQUFDLENBQUM7O0FBRXhFLEdBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLFVBQUMsSUFBSSxFQUFLO0FBQ3pCLFFBQUksSUFBSSxZQUFBLENBQUM7O0FBRVQsUUFBSTtBQUNGLFVBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztLQUM5QyxDQUNELE9BQU8sQ0FBQyxFQUFFO0FBQ1IsVUFBSSxHQUFHLEVBQUUsQ0FBQztLQUNYOztBQUVELFFBQU0sU0FBUyxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDOztBQUV2RCxZQUFRLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztHQUNsQyxDQUFDLENBQUM7Q0FDSixDQUFDIiwiZmlsZSI6ImJvb3RzdHJhcC1yZWFjdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IFJlYWN0RE9NID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKHtjb21wb25lbnQsIGNvbXBvbmVudE5hbWV9KSA9PiB7XG4gIGNvbnN0IGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW3RvZ2E9JyArIGNvbXBvbmVudE5hbWUgKyAnXScpO1xuXG4gIF8uZm9yRWFjaChlbGVtcywgKGVsZW0pID0+IHtcbiAgICBsZXQgcHJvcDtcblxuICAgIHRyeSB7XG4gICAgICBwcm9wID0gSlNPTi5wYXJzZShlbGVtLmdldEF0dHJpYnV0ZSgncHJvcCcpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHByb3AgPSB7fTtcbiAgICB9XG5cbiAgICBjb25zdCByZWFjdEVsZW0gPSBSZWFjdC5jcmVhdGVFbGVtZW50KGNvbXBvbmVudCwgcHJvcCk7XG5cbiAgICBSZWFjdERPTS5yZW5kZXIocmVhY3RFbGVtLCBlbGVtKTtcbiAgfSk7XG59O1xuIl19